# XDAGJ Command Line Interface Wallet Tutorial

This section describes wallet related 'xdag-cli' commands.

If you want to learn the structure of your Xdag wallet, you can play with the "xdag-cli" wallet commands as shown below.

- **Please note that at least keep the wallet password and mnemonic phrase, once lost, you cannot retrieve it**
- **This wallet is still in the testing stage, there may be security issues, loss or other unknown issues**

----------

- [System environment](#system-environment)
- [Usage](#usage)
----------
## System environment

```yaml
     JDK   : v15
  script   : xdag.sh
     jar   : xdagj-0.x.y-shaded.jar
```

example:
```shell
xdager@localhost xdag_full_node % java --version
openjdk 15.0.2 2021-01-19
OpenJDK Runtime Environment (build 15.0.2+7)
OpenJDK 64-Bit Server VM (build 15.0.2+7, mixed mode, sharing)
xdager@localhost xdag_full_node % mkdir -p /usr/local/xdag_full_node && cd /usr/local/xdag_full_node
xdager@localhost xdag_full_node % pwd
/usr/local/xdag_full_node
xdager@localhost xdag_full_node % chmod +x xdag.sh
xdager@localhost xdag_full_node % ll
total 95464
drwxr-xr-x   4 xdager  wheel       128  5 24 14:22 .
drwxr-xr-x  16 xdager  wheel       512  5 24 14:21 ..
-rwxr-xr-x   1 xdager  wheel       275  5 24 14:21 xdag.sh
-rw-r--r--   1 xdager  wheel  48869970  5 24 14:21 xdagj-0.4.5-shaded.jar
```

## Usage

### account

xdag account initialization and creation, query and other functions

#### init

The init action will create an initial mnemonic for HDWallet, please remember the mnemonic for future recovery
The wallet follows the bip44 standard,  [BIP44](https://github.com/bitcoin/bips/blob/master/bip-0044.mediawiki), [XDAG CoinType](https://github.com/satoshilabs/slips/blob/master/slip-0044.md)

```yaml
m / purpose' / coin_type' / account' / change / address_index
```

```yaml
purporse': Fixed value 44', which means BIP44
coin_type': This represents the currency, which can be compatible with many currencies, such as BTC is 0', ETH is 60',XDAG is 586'

btc: m/44'/0'/0'/0
eth: m/44'/60'/0'/0
xdag: m/44'/586'/0'/0
```

```shell
xdager@localhost xdag_full_node % ./xdag.sh --account init
EnterNewPassword:
ReEnterNewPassword:
HdWallet Initializing...
HdWallet Mnemonic:smoke that notice super program endless culture bubble trial pass annual rule
HdWallet Mnemonic Repeat:smoke that notice super program endless culture bubble trial pass annual rule
HdWallet Initialized Successfully!
```

#### create

Please note that the create action must be created after the init action, which will follow the bip32 standard,
[BIP32](https://github.com/bitcoin/bips/blob/master/bip-0032.mediawiki) and [BIP44](https://github.com/bitcoin/bips/blob/master/bip-0044.mediawiki)
```shell
xdager@localhost xdag_full_node % ./xdag.sh --account create
Please enter your password:
New Address:89fc1798f2e39687f566db6c02838990206978be
PublicKey:0092909df115b0646f5f771a0505c9c55cc875aeea2a440b7dd11afbd54b350482749d7dba68d1bff96c19adb1a6e920be2e959a684a8ab7545a9a213d85dc4a57
```
#### list
The list action will list all addresses in the wallet.data file, including HDWallet and randomly generated addresses
```shell
xdager@localhost xdag_full_node % ./xdag.sh --account list
Please enter your password:
Address:0 89fc1798f2e39687f566db6c02838990206978b
```

### changepassword

This command allows the user to change the password of the wallet.data wallet file generated by xdagj
```shell
xdager@localhost xdag_full_node % ./xdag.sh --changepassword
Please enter your password:
EnterNewPassword
ReEnterNewPassword
Password Changed Successfully!
```
User needs to enter the old password and the new password, and the two new passwords are the same

### convertoldwallet

This command is used to convert the wallet.dat file generated by the old wallet of the xdag c version (please note that the wallet name generated by xdagj is wallet.data).
* Before convert command, you need copy wallet.dat to xdagj working dir.

```shell
xdager@localhost xdag_full_node % ./xdag.sh --convertoldwallet wallet.dat
Old wallet password:
Old wallet random:
PrivateKey:008f30bc86f42f55d8d64dd26a5428fc1e65f0616823153c084b43aad76cd97e04
 PublicKey:2cc759b26fe0cf8480607421511e399c8b500790a978785559c38b91a420b2e57115d4618c0e0765e2961a5afa15ac465ae2029bbf6960a3e2ece8de896a964e
   Address:2f9113df1d55a8447c73759ec23afb5566e14d03
Old Wallet Converted Successfully!
```

### dumpprivatekey

Dump the private key in hexadecimal string format.

```shell
xdager@localhost xdag_full_node % ./xdag.sh --dumpprivatekey 2f9113df1d55a8447c73759ec23afb5566e14d03
Private:008f30bc86f42f55d8d64dd26a5428fc1e65f0616823153c084b43aad76cd97e04
Private Dump Successfully!
```

### importprivatekey

Import the private key in hexadecimal string format.

```shell
xdager@localhost xdag_full_node % ./xdag.sh --importprivatekey 008f30bc86f42f55d8d64dd26a5428fc1e65f0616823153c084b43aad76cd97e04
Address:2f9113df1d55a8447c73759ec23afb5566e14d03
PublicKey:2cc759b26fe0cf8480607421511e399c8b500790a978785559c38b91a420b2e57115d4618c0e0765e2961a5afa15ac465ae2029bbf6960a3e2ece8de896a964e
Private Key Imported Successfully!
```

### importmnemonic

Use mnemonic phrase import to generate new HDWallet.

```shell
xdager@localhost xdag_full_node % ./xdag.sh --importmnemonic "smoke that notice super program endless culture bubble trial pass annual rule"
New Address:89fc1798f2e39687f566db6c02838990206978be
PublicKey:0092909df115b0646f5f771a0505c9c55cc875aeea2a440b7dd11afbd54b350482749d7dba68d1bff96c19adb1a6e920be2e959a684a8ab7545a9a213d85dc4a57
HDWallet Mnemonic Imported Successfully!
```

### help

Prompt for command line help information.

```shell
xdager@localhost xdag_full_node % ./xdag.sh --help
usage: ./xdag.sh [options]
--account <action>              init|create|list
--changepassword                change wallet password
--convertoldwallet <filename>   convert xdag old wallet.dat to private key hex
--dumpprivatekey <address>      print hex key
--help                          print help
--importmnemonic <mnemonic>     import HDWallet mnemonic
--importprivatekey <key>        import hex key
--version                       show version
```

### version

Show xdagj version number.

```shell
xdager@localhost xdag_full_node % ./xdag.sh --version
0.4.5
```
